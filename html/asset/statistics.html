<!DOCTYPE html>
<html>

<head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <title>资产管理系统</title>
    <meta name="keywords" content="资产 管理 " />
    <meta name="description" content="用于管理公司或企业内部的资产">

    <meta name="author" content="Eric Xu">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font CSS (Via CDN) -->
    <!--<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700'>-->

    <!-- Plugin CSS -->
    <link rel="stylesheet" type="text/css" href="../../js/vendor/plugins/magnific/magnific-popup.css">

    <!-- Theme CSS -->
    <link rel="stylesheet" type="text/css" href="../../js/assets/skin/default_skin/css/theme.css">

    <!-- Admin Forms CSS -->
    <link rel="stylesheet" type="text/css" href="../../js/assets/admin-tools/admin-forms/css/admin-forms.css">

    <!--menu css-->
    <link rel="stylesheet" type="text/css" href="../../js/menu/menu.css" />

    <link rel="stylesheet" type="text/css" href="../../js/bootstrap-table/bootstrap-table.min.css">

    <link rel="stylesheet" type="text/css" href="../../css/layout.css" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="../../img/icon.ico">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->

</head>

<body class="" style="overflow:hidden;">
    <div id="main" style="height:100%;">
        <!--导航栏 开始-->
        <header id="topbar">
            <div class="topbar-left">
                <ol class="breadcrumb">
                    <li class="crumb-icon">
                        <a href="../dashboard.html">
                <span class="glyphicon glyphicon-home"></span>
              </a>
                    </li>
                    <li class="crumb-trail">
                        资产管理
                    </li>
                    <li class="crumb-trail">分析报表</li>
                </ol>
            </div>
        </header>
        <!--导航栏 结束-->

        <!--功能按钮和查询区  开始-->
        <div class="action-heading">
            <div class="page-x-action">
                <a id="btnAdd" class="btn btn-primary glyphicon glyphicon-plus disabled">导出履历</a>
            </div>
            <div class="page-x-query admin-form">

                <label class="field prepend-icon">
                            <input type="text" name="query" id="query" class="gui-input" placeholder="输入搜索内容">
                            <label for="query" class="field-icon">
                              <i class="fa fa-search"></i>
                            </label>
                </label>
            </div>
            <div style="clear:both;"></div>
        </div>
        <!--功能按钮和查询区  结束-->

        <!--选项卡 开始-->
        <div class="panel page-x-content">
            <!--选项卡 标题 开始-->
            <div class="panel-heading">
                <ul class="nav panel-tabs-border panel-tabs panel-tabs-left">
                    <li class="">
                        <a href="#tab2_1" data-toggle="tab">资产清单</a>
                    </li>
                    <li>
                        <a href="#tab2_2" data-toggle="tab">资产履历</a>
                    </li>
                    <li>
                        <a href="#tab2_3" data-toggle="tab">分类使用情况</a>
                    </li>
                    <li>
                        <a href="#tab2_4" data-toggle="tab">部门资产汇总</a>
                    </li>
                </ul>
            </div>
            <!--选项卡 标题 结束-->

            <!--选项卡内容 开始-->
            <div class="panel-body page-x-content-body">
                <div class="tab-content pn br-n">
                    <div id="tab2_1" class="tab-pane">
                        <table></table>
                    </div>
                    <div id="tab2_2" class="tab-pane">
                        <table></table>
                    </div>
                    <div id="tab2_3" class="tab-pane">
                        <table></table>
                    </div>
                    <div id="tab2_4" class="tab-pane">
                        <table></table>
                    </div>
                </div>
            </div>
            <!--选项卡内容 结束-->
        </div>
    </div>

    <script type="text/html" id="form-template">
        <div class="admin-form theme-primary full-screen">
            <div class="panel heading-border panel-primary full-screen">
                <div class="panel-body bg-light full-screen">
                    <form class="full-screen">
                        <div class="full-screen form-content">
                            <div class="section-divider mv10" id="spy4">
                                <span>使用信息</span>
                            </div>

                            <div class="row">
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="useOrg" id="useOrg" class="gui-input" placeholder="输入使用部门">
                                    </label>
                                        <label for="useOrg" class="button btn-primary">使用部门</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="user" id="user" class="gui-input" placeholder="输入使用人">
                                    </label>
                                        <label for="user" class="button btn-primary">使用人</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="useLocation" id="useLocation" class="gui-input" placeholder="输入使用地">
                                    </label>
                                        <label for="useLocation" class="button btn-primary">使用地</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="useTime" id="useTime" class="gui-input" placeholder="输入领用时间">
                                    </label>
                                        <label for="useTime" class="button btn-primary">领用时间</label>
                                    </div>
                                </div>
                            </div>
                            <div class="section-divider mv10" id="spy4"></div>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="code" id="code" class="gui-input" placeholder="输入资产编码">
                                    </label>
                                        <label for="code" class="button btn-primary">资产编码</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="name" id="name" class="gui-input" placeholder="输入资产名称">
                                    </label>
                                        <label for="name" class="button btn-primary">资产名称</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="category" id="category" class="gui-input" placeholder="输入产品类别">
                                    </label>
                                        <label for="category" class="button btn-primary">产品类别</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="smart-widget sm-left sml-80">
                                        <label class="field">
                                        <input type="text" name="inTime" id="inTime" class="gui-input" placeholder="输入入库时间">
                                    </label>
                                        <label for="inTime" class="button btn-primary">入库时间</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-actions">
                            <button type="button" class="btn btn-primary glyphicon glyphicon-floppy-saved" id="saveData">保存</button>
                            <button type="button" class="btn btn-default glyphicon glyphicon-log-out btn-split" id="cancel">取消</button>
                        </div>
                    </form>
                </div>
            </div>

        </div>

    </script>

    <!-- BEGIN: PAGE SCRIPTS -->
    <!-- jQuery -->
    <script src="../../js/vendor/jquery/jquery-1.11.1.min.js"></script>

    <script src="../../js/vendor/jquery/jquery_ui/jquery-ui.min.js"></script>

    <!-- Magnific Popup JS -->
    <script src="../../js/vendor/plugins/magnific/jquery.magnific-popup.js"></script>

    <!-- FileUpload JS -->
    <script src="../../js/vendor/plugins/fileupload/fileupload.js"></script>
    <script src="../../js/vendor/plugins/holder/holder.min.js"></script>

    <!-- Admin Forms JS -->
    <script src="../../js/assets/admin-tools/admin-forms/js/jquery-ui-monthpicker.min.js"></script>

    <!-- Theme Javascript -->
    <script src="../../js/assets/js/utility/utility.js"></script>
    <script src="../../js/assets/js/main.js"></script>
    <script src="../../js/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="../../js/layer/layer.js"></script>
    <script src="../../js/util.js"></script>
    <script src="../../js/jquery-grid.js"></script>
    <script src="../../js/jquery.cookie.js"></script>
    <script src="../../js/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
    <script type="text/javascript">
        $(function () {
            "use strict";
            // init
            Core.init();
            // 初始化事件
            initEvent();
        });
        var formIndex;
        function initEvent() {
            var activeClass = "active";
            $(".panel-tabs").on("click", "li", function () {
                var $this = $(this),
                    isSelected = $this.hasClass(activeClass),
                    $a = $this.find("a"),
                    href = $a.attr("href");

                if (!isSelected) {
                    // init Table
                    var mth = href.replace("#", "") + "Table";
                    window[mth] && window[mth]();
                }
            }).find("li:first a").trigger("click");

            // 新增按钮
            $("#btnAdd").on("click", function (e) {
                e.preventDefault();
                showForm();
            });

            // save data
            $(document).on("click", "#saveData", function () {
                // save
                layer.close(formIndex);
            }).on("click", "#cancel", function (e) {
                layer.close(formIndex);
            });
        }


        function showForm(id) {
            formIndex = layer.open({
                anim: 0,
                title: "新增资产信息",
                area: ["90%", "90%"],
                btn: false,
                offset: "t",
                content: $('#form-template').html()
            });

            initForm();

            if (id) {
                // load data
            }
        }

        function initForm() {

        }

        // 资产清单 
        var tab2_1Inited = false;
        function tab2_1Table() {
            if (!tab2_1Inited) {
                // 如果没有初始化, 先对表格进行初始化
                $("#tab2_1 table").xBootstrapTable({
                    url:util.getUrl("/asset/listAsset"),
                    events:{
                        // 新增
                        add:{
                            // 按钮选择器
                            selector:"#btnAdd",
                            // 弹框选项
                            layerOption:{
                                // 新增页面url
                                content:"inform.html"
                            }
                        },
                        // 修改
                        edit:{
                            // 弹框选项
                            layerOption:{
                                // 修改页面url
                                content:"inform.html?id={assetId}"
                            }
                        },
                        // 删除
                        remove:{
                            // 删除调用的数据接口地址
                            url:"/asset/deleteAsset",
                            data:{
                                assetId:null
                            }
                        }
                    },
                    columns: [{
                        field: "selection",
                        checkbox: true
                    }, {
                        filed: "operate",
                        title: "操作",
                        align: "center",
                        formatter: function (value, row, index) {
                            return ['<div class="row-btn-container"><a href="javascript:;" class="btn btn-primary btn-edit glyphicon glyphicon-edit" >修改</a>',
                                '<a href="javascript:;" class="btn btn-danger btn-remove glyphicon glyphicon-remove">删除</a></div>'].join("");
                        },
                        events: {
                            "click a.btn-edit": function (e, value, row, index) {
                                showForm();
                            },
                            "click a.btn-remove": function (e, value, row, index) { }
                        }
                    }, {
                        field: "assetId",
                        title: "资产id",
                        align: "center",
                        visible:false
                    }, {
                        field: "status",
                        title: "资产状态",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetNumber",
                        title: "资产编号",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetName",
                        title: "资产名称",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetClassifyid",
                        title: "资产分类id ",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetStoragedate",
                        title: "入库时间",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "brand",
                        title: "品牌",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetSourceid",
                        title: "资产来源",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "model",
                        title: "型号",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "quality",
                        title: "计量单位",
                        sortable: true,
                        align: "center"
                    },{
                        field: "assetChannel",
                        title: "渠道",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "amount",
                        title: "金额",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "buyTime",
                        title: "购入时间",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "limit",
                        title: "使用期限",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "sn",
                        title: "SN号",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "maintainStarTime",
                        title: "保修起始时间",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetWarrantydeadline",
                        title: "保修截至日期",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "image",
                        title: "图片",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetUserid",
                        title: "使用人id",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetDepartmentid",
                        title: "使用部门",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "useLocation",
                        title: "使用地",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetEnabledate",
                        title: "领用时间",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetRemark",
                        title: "资产备注",
                        sortable: true,
                        align: "center"
                    }]
                });
                tab2_1Inited = true;
                $("#tab2_1 table").bootstrapTable("append", {});
            } else {
                // 如果已经初始化, 刷新表格数据
                $("#tab2_1 table").bootstrapTable("refresh");
            }

        }

        // 资产履历
        var tab2_2Inited = false;
        function tab2_2Table() {
            if (!tab2_2Inited) {
                // 如果没有初始化, 先对表格进行初始化
                $("#tab2_2 table").xBootstrapTable({
                    url:util.getUrl("/asset/listAsset"),
                    events:{
                        // 新增
                        add:{
                            // 按钮选择器
                            selector:"#btnAdd",
                            // 弹框选项
                            layerOption:{
                                // 新增页面url
                                content:"inform.html"
                            }
                        },
                        // 修改
                        edit:{
                            // 弹框选项
                            layerOption:{
                                // 修改页面url
                                content:"inform.html?id={assetId}"
                            }
                        },
                        // 删除
                        remove:{
                            // 删除调用的数据接口地址
                            url:"/asset/deleteAsset",
                            data:{
                                assetId:null
                            }
                        }
                    },
                    columns: [{
                        field: "selection",
                        checkbox: true
                    }, {
                        filed: "operate",
                        title: "操作",
                        align: "center",
                        formatter: function (value, row, index) {
                            return ['<div class="row-btn-container"><a href="javascript:;" class="btn btn-primary btn-edit glyphicon glyphicon-edit" >修改</a>',
                                '<a href="javascript:;" class="btn btn-danger btn-remove glyphicon glyphicon-remove">删除</a></div>'].join("");
                        },
                        events: {
                            "click a.btn-edit": function (e, value, row, index) { showForm(); },
                            "click a.btn-remove": function (e, value, row, index) { }
                        }
                    }, {
                        field: "assetId",
                        title: "资产id",
                        align: "center",
                        visible:false
                    },{
                        field: "situation",
                        title: "资产状态",
                        sortable: true,
                        align: "center"
                    },{
                        field: "assetNumber",
                        title: "资产编号",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetName",
                        title: "资产名称",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetClassifyid",
                        title: "资产分类id ",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetStoragedate",
                        title: "入库日期",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "brand",
                        title: "品牌",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetSourceid",
                        title: "资产来源",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "model",
                        title: "型号",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "quality",
                        title: "计量单位 ",
                        sortable: true,
                        align: "center"
                    },{
                        field: "assetChannel",
                        title: "渠道",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "amount",
                        title: "金额",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "buyTime",
                        title: "购入时间",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "limit",
                        title: "使用期限",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetSNNumber",
                        title: "SN号",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "maintainStarTime",
                        title: "保修起始时间",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetWarrantydeadline",
                        title: "保修截至日期",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "image",
                        title: "图片",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetUserid",
                        title: "使用人id",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetDepartmentid",
                        title: "使用部门",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "useLocation",
                        title: "使用地",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "assetEnabledate",
                        title: "领用时间",
                        sortable: true,
                        align: "center"
                    },{
                        field: "assetRemark",
                        title: "资产备注",
                        sortable: true,
                        align: "center"
                    },{
                        field: "ProcessingType",
                        title: "处理类型",
                        sortable: true,
                        align: "center"
                    },{
                        field: "ProcessingTime",
                        title: "处理时间",
                        sortable: true,
                        align: "center"
                    },{
                        field: "ProcessingPeople",
                        title: "处理明细处理人",
                        sortable: true,
                        align: "center"
                    },{
                        field: "ProcessingContent",
                        title: "处理内容",
                        sortable: true,
                        align: "center"
                    }]
                });
                tab2_2Inited = true;
                $("#tab2_2 table").bootstrapTable("append", {});
            } else {
                // 如果已经初始化, 刷新表格数据
                $("#tab2_2 table").bootstrapTable("refresh");
            }
        }

        // 分类使用情况 
        var tab2_3Inited = false;
        function tab2_3Table() {
            if (!tab2_3Inited) {
                // 如果没有初始化, 先对表格进行初始化
                $("#tab2_3 table").xBootstrapTable({
                    url:util.getUrl("/asset/listAsset"),
                    events:{
                        // 新增
                        add:{
                            // 按钮选择器
                            selector:"#btnAdd",
                            // 弹框选项
                            layerOption:{
                                // 新增页面url
                                content:"inform.html"
                            }
                        },
                        // 修改
                        edit:{
                            // 弹框选项
                            layerOption:{
                                // 修改页面url
                                content:"inform.html?id={assetId}"
                            }
                        },
                        // 删除
                        remove:{
                            // 删除调用的数据接口地址
                            url:"/asset/deleteAsset",
                            data:{
                                assetId:null
                            }
                        }
                    },
                    columns: [{
                        field: "selection",
                        checkbox: true
                    }, {
                        filed: "operate",
                        title: "操作",
                        align: "center",
                        formatter: function (value, row, index) {
                            return ['<div class="row-btn-container"><a href="javascript:;" class="btn btn-primary btn-edit glyphicon glyphicon-edit" >修改</a>',
                                '<a href="javascript:;" class="btn btn-danger btn-remove glyphicon glyphicon-remove">删除</a></div>'].join("");
                        },
                        events: {
                            "click a.btn-edit": function (e, value, row, index) { showForm(); },
                            "click a.btn-remove": function (e, value, row, index) { }
                        }
                    }, {
                        field: "assetId",
                        title: "资产id",
                        align: "center",
                        visible:false
                    },{
                        field: "code",
                        title: "类别编码",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "name",
                        title: "类别名称",
                        sortable: true,
                        align: "center"
                    }, 
                    {
                        field: "category",
                        title: "资产数量 ",
                        sortable: true,
                        align: "center"
                    },
                     {
                        field: "money",
                        title: "资产金额",
                        sortable: true,
                        align: "center"
                    }]
                });
                tab2_3Inited = true;
                $("#tab2_3 table").bootstrapTable("append", {});
            } else {
                // 如果已经初始化, 刷新表格数据
                $("#tab2_3 table").bootstrapTable("refresh");
            }
        }

        // 部门资产汇总  
        var tab2_4Inited = false;
        function tab2_4Table() {
            if (!tab2_4Inited) {
                // 如果没有初始化, 先对表格进行初始化
                $("#tab2_4 table").xBootstrapTable({
                    events:{
                        // 新增
                        add:{
                            // 按钮选择器
                            selector:"#btnAdd",
                            // 弹框选项
                            layerOption:{
                                // 新增页面url
                                content:"inform.html"
                            }
                        },
                        // 修改
                        edit:{
                            // 弹框选项
                            layerOption:{
                                // 修改页面url
                                content:"inform.html?id={assetId}"
                            }
                        },
                        // 删除
                        remove:{
                            // 删除调用的数据接口地址
                            url:"/asset/deleteAsset",
                            data:{
                                assetId:null
                            }
                        }
                    },
                    columns: [{
                        url:util.getUrl("/asset/listAsset"),
                        field: "selection",
                        checkbox: true
                    }, {
                        field: "assetId",
                        title: "资产id",
                        align: "center",
                        visible:false
                    },{
                        field: "code",
                        title: "部门编码",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "name",
                        title: "部门名称",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "number",
                        title: "资产数量 ",
                        sortable: true,
                        align: "center"
                    }, {
                        field: "money",
                        title: "资产金额",
                        sortable: true,
                        align: "center"
                    }]
                });
                tab2_4Inited = true;
                $("#tab2_4 table").bootstrapTable("append", {});
            } else {
                // 如果已经初始化, 刷新表格数据
                $("#tab2_4 table").bootstrapTable("refresh");
            }
        }
    </script>
    <!-- END: PAGE SCRIPTS -->

</body>

</html>